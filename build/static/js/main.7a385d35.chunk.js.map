{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","value","filterTerm","onChange","handleFilterTermInput","PersonForm","newName","handleNewName","newNumber","handleNewNumber","onClick","addPerson","type","Person","person","name","number","handleDelete","id","Persons","personsToShow","map","key","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","messageType","className","App","useState","persons","setPersons","setNewName","setNewNumber","setFilterTerm","setMessage","setMessageType","useEffect","personService","intitalPersons","updateNumber","personObject","returnedPerson","catch","error","setTimeout","filter","toLowerCase","includes","event","target","preventDefault","length","find","alert","returnedData","console","log","concat","request","deletedPersons","removePerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7a385d35.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = (props) => {\r\n  return(\r\n  <div>\r\n    Filter shown with <input value={props.filterTerm} onChange={props.handleFilterTermInput} />\r\n  </div>\r\n  );\r\n}\r\n\r\nexport default Filter","import React from 'react';\r\n\r\nconst PersonForm = (props) => {\r\n  return (\r\n    <form>\r\n      <div>\r\n        name: <input value={props.newName} onChange={props.handleNewName} />\r\n      </div>\r\n      <div>\r\n        number: <input value={props.newNumber} onChange={props.handleNewNumber} />\r\n      </div>\r\n      <div>\r\n        <button onClick={props.addPerson} type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = (props) => {\r\n  \r\n\r\n  return (\r\n    <p>\r\n      {props.person.name} {props.person.number}\r\n      <button onClick={()=> props.handleDelete(props.person.id)}>Delete</button>\r\n    </p>\r\n  )\r\n}\r\nexport default Person","import React from 'react';\r\nimport Person from './Person';\r\n\r\nconst Persons = (props) => {\r\n  return (\r\n    <div>\r\n    {props.personsToShow.map((person) =>\r\n      <Person \r\n        key={person.name} \r\n        person={person}\r\n        handleDelete={props.handleDelete}\r\n      />)}\r\n\r\n         \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n\tconst request = axios.get(baseUrl)\r\n\treturn request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n\tconst request = axios.post(baseUrl, newObject)\r\n\treturn request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n\tconst request = axios.put(`${baseUrl}/${id}`, newObject)\r\n\treturn request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n\tconst request = axios.delete(`${baseUrl}/${id}`)\r\n\treturn request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove}","import React from 'react'\r\n\r\nconst Notification = ({ message, messageType }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className={messageType}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react';\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm';\r\nimport Persons from './components/Persons';\r\nimport personService from './services/persons';\r\nimport Notification from './components/Notification';\r\n\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState('');\r\n  const [newNumber, setNewNumber] = useState('');\r\n  const [filterTerm, setFilterTerm] = useState('art');\r\n  const [message, setMessage] = useState('');\r\n  const [messageType, setMessageType] = useState('');\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(intitalPersons => {\r\n        setPersons(intitalPersons)\r\n      })\r\n\r\n  }, [])\r\n\r\n\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault();\r\n\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    const nameExists = persons.filter(person => person.name === newName).length;\r\n\r\n    if (nameExists) {\r\n      const person = persons.find(person => person.name === newName)\r\n      alert(`${newName} is already added to phone book confirm you want to change the number`)\r\n      updateNumber(person.id, personObject)\r\n\r\n    }\r\n    else {\r\n      personService\r\n        .create(personObject)\r\n        .then(returnedData => {\r\n          console.log(returnedData);\r\n          setPersons(persons.concat(returnedData))\r\n          setMessage(`Added ${newName}`)\r\n          setMessageType(\"success\")\r\n          setTimeout(() => {\r\n            setMessage(\"\")\r\n            setMessageType(\"\")\r\n          }, 5000)\r\n        })\r\n        .catch(returnedData => {\r\n          setTimeout(() => {\r\n            setMessage(returnedData.response.request.response)\r\n            setMessageType(\"error\")\r\n          }, 5000)\r\n        }\r\n        )\r\n\r\n    }\r\n    setNewName('');\r\n  }\r\n\r\n  const removePerson = (id) => {\r\n    personService\r\n      .remove(id)\r\n      .then(deletedPersons => {\r\n        setPersons(persons.filter(person => person.id !== id))\r\n      })\r\n  }\r\n\r\n  const updateNumber = (id, personObject) => {\r\n    personService\r\n      .update(id, personObject)\r\n      .then(returnedPerson => {\r\n        setPersons(persons.map(person => person.id === id ? personObject : person))\r\n      })\r\n      .catch(error => {\r\n        setMessage(`Note ${newName} was already deleted`)\r\n        setMessageType(\"error\")\r\n        setTimeout(() => {\r\n          setMessage(\"\")\r\n          setMessageType(\"\")\r\n        }, 5000)\r\n      })\r\n    setMessage(`Updated ${newName}'s number`)\r\n    setMessageType(\"success\")\r\n    setTimeout(() => {\r\n      setMessage(\"\")\r\n      setMessageType(\"\")\r\n    }, 5000)\r\n  }\r\n\r\n  const handleNewName = (event) => {\r\n\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNewNumber = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilterTermInput = (event) => {\r\n    setFilterTerm(event.target.value);\r\n  }\r\n\r\n  const handleDelete = (id) => {\r\n    console.log(id);\r\n    removePerson(id);\r\n  }\r\n\r\n\r\n\r\n  const personsToShow = persons.filter((person) => {\r\n    if (person.name.toLowerCase().includes(filterTerm.toLowerCase())) {\r\n      return true\r\n    }\r\n    else {\r\n      return false\r\n    }\r\n  }\r\n  )\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} messageType={messageType} />\r\n      <Filter filterTerm={filterTerm} handleFilterTermInput={handleFilterTermInput} />\r\n\r\n      <h2>Add a New</h2>\r\n      <PersonForm\r\n        newName={newName}\r\n        handleNewName={handleNewName}\r\n        newNumber={newNumber}\r\n        handleNewNumber={handleNewNumber}\r\n        addPerson={addPerson}\r\n      />\r\n\r\n      <h2>Numbers</h2>\r\n      <Persons personsToShow={personsToShow} handleDelete={handleDelete} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\nReactDOM.render(\n    <App />, document.getElementById('root')\n);\n\n"],"sourceRoot":""}